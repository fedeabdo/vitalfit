<!DOCTYPE html>
<html>

<head>
	<title>Vitalfit</title>
	<meta name="viewport" content="minimal-ui, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
	<meta name="msapplication-tap-highlight" content="no" />
	<meta name="format-detection" content="telephone=no" />

	<link rel="stylesheet" href="mobileui/mui.min.css" type="text/css">
	<link rel="stylesheet" href="custom/custom.css" type="text/css">
	<link rel="stylesheet" href="node_modules/keen-ui/dist/keen-ui.min.css">

	<script src="phonegap.js"></script>
	<script src="vendors/fastclick.min.js" type="text/javascript"></script>

	<script src="vendors/jquery.min.js" type="text/javascript"></script>
	<script src="vendors/jquery.animate-enhanced.js" type="text/javascript"></script>
	<script src="vendors/jqwait/jquery.wait.min.js" type="text/javascript"></script>
	<script src="vendors/iscroll-min.js" type="text/javascript"></script>

	<script src="mobileui/mui.min.js" type="text/javascript"></script>
	<script src="custom/custom.js" type="text/javascript"></script>

	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<script src="node_modules/keen-ui/dist/keen-ui.min.js"></script>


	<script>
		$(document).ready(() => {
			// const mui_viewport = new Vue({
			// 	el: "mui-viewport",
			// 	data: {
			// 		alumno: null
			// 	},
			// 	methods: {
			// 		seleccionarAlumno: function (){

			// 		}
			// 	}
			// })

			/*
			const planNuevo2 = new Vue({
				el: "#planNuevo-app-2",
				methods: {
					openModal(event) {
						this.$refs.modal.open();
					}
				}
			})
			*/
			

			const homePage = new Vue({
				el: "#home-page",
				data: {
					alumnos: [],
					
				},
				methods: {
					nuevoAlumno: function() {
						mui.viewport.showPage("nuevoAlumno-page", 'DEF')
					}
				}
			})
			
			$.ajax({
				type: 'GET',
				url: 'https://app-personal-trainer.herokuapp.com/clientes/',
				xhrFields: { withCredentials: true },
				crossDomain: true,
				success: function(data){
					homePage.alumnos = data
				}
			})

			const alumno = new Vue({
				el: "#nuevoAlumno-page",
				data: {
					alumnos: [],
					alumno:{
						nombre: "",
						apellido: "",
						fechaDeNac: "",
						nroContacto: "",
						email: ""
					}
				},
				methods: {
					confirmarAlumno: function() {
						// this.alumnos.push(this.alumno)
						$.ajax({
							type: 'POST',
							url: 'https://app-personal-trainer.herokuapp.com/clientes/',
							xhrFields: { withCredentials: true },
							crossDomain: true,
							data: {
								'nombre': this.alumno.nombre + " " + this.alumno.apellido,
								'username': this.alumno.nombre.toLowerCase() + "." + this.alumno.apellido.toLowerCase(),
								'admin': false,
								'password': this.alumno.apellido
							},
							dataType: 'json',
							success: (responseData)=>{
								alert(responseData)
							}

						})
						alert(this.alumno.nombre)
						this.alumno.nombre = ""
						this.alumno.apellido = ""
						this.alumno.fechaDeNac = ""
						this.alumno.nroContacto = ""
						this.alumno.email = ""
						mui.viewport.showPage("home-page", "DEF")
					}
				}
			})

			const planNuevo = new Vue({
				el: "#planNuevo-app",
				data: {
					nombrePlan: '',
					dias: []
				},
				methods: {
					agregarDia: function () {
						nro = this.dias.length + 1
						diaAux = {
							nombre:"",
							ejercicios:[]
						}
						diaAux.nombre = 'DIA ' + nro
						this.dias.push(diaAux)
					},
					quitarDia: function () {
						this.dias.pop()
					},
					diaNuevo: function () {
						mui.viewport.showPage("diaNuevo-page", "DEF")
					},
					confirmarPlan: function() {
						mui.viewport.showPage("home-page", "DEF")
					}
				}
			})

			const diaNuevo = new Vue({
				el: '#diaNuevo-app',
				data: {
					ejerciciosHtml: [],
					ejercicios: [],
					ejercicio: {
						nombre: "",
						series: "",
						reps: "",
						intensidad: "",
						tiempo: ""
					}
				},
				methods: {
					agregarEjercicio: function () {
						nro = this.ejercicios.length + 1
						this.ejercicios.push(this.ejercicio)
						this.ejerciciosHtml.push('<div class= "col-80"><span><p>Ejercicio' + nro + '</p></span><p>Nombre:</p><input type="Text" v-model="ejercicios[' + nro + '].nombre"><br><p>Series:</p><input type="Number" v-model="ejercicios[' + nro + '].series"><br><p>Reps:</p><input type="Number" v-model="ejercicios[' + nro + '].reps"><br><p>Intensidad:</p><input type="Number" v-model="ejercicios[' + nro + '].intensidad"><br><p>Tiempo:</p><input type="Number" v-model="ejercicios[' + nro + '].tiempo"><br></div><br><hr style="width:95%; height:3px; border-width:0; color:gray; background-color:gray">')
					},
					confirmarEjercicio: function() {
						console.log(this.ejercicios)
						mui.viewport.showPage("planNuevo-page", "DEF")
					}
				}
			})

			const sesion = new Vue({
				el: '#sesion-app',
				data: {
					selectedItem: null,
					sesiones: ['SESION 1', 'SESION 2', 'SESION 3']
				},
				methods: {
					agregarSesion: function () {
						nro = this.sesiones.length + 1
						this.sesiones.push('SESION ' + nro)
					},
					showPage: function () {
						mui.viewport.showPage("sesiones-page", "DEF");
					}
				}
			})

		})
	</script>


</head>

<body>
	<!-- Main wrapper. Importantly, think carefully before you change it or remove it. Do not recommend it. -->
	<!-- Main wrapper. Importante, Piénselo bien antes de cambiarlo o quitarlo. No se lo recomiendo. -->
	<div id="mui-screen" class="mui-viewport">
		<div id="mui-screen-page" class="mui-page">
			<!-- Ddefault viewport. Do not remove. It will make your life simpler and happy. -->
			<!-- ViewPort por defecto. No lo elimines. Hará tu vida más simple y feliz. -->
			<div id="mui-viewport" class="mui-viewport">
				<div id="home-page" class="mui-page">
					<div class="mui-page-header">
						<div class="mui-page-logo"></div>
						<a class="mui-headmenu" href="#"></a>
					</div>
					<div class="mui-page-body" id="home-body">
						<div>
							<div class="col-80">
								<br>
								<span>
									<input type="text" class="filtro_alumnos" onkeyup="filtro('.filtro_alumnos', '.lista_alumnos')" placeholder="Buscar por nombre">
									<button class="agregar_alumno" @click="nuevoAlumno">＋</button>
								</span>
								<ul class="lista_alumnos"><br>
									<li v-for='alumno in alumnos'>
										<a onclick="alumno_upload_onclick(this)">{{alumno.nombre}}</a>
									</li>
									<!-- <li><a onclick="alumno_upload_onclick(this)">Alumno1</a></li>
									<li><a onclick="alumno_upload_onclick(this)">Alumno2</a></li>
									<li><a onclick="alumno_upload_onclick(this)">alumno3</a></li> -->
								</ul>
							</div>
						</div>
					</div>
				</div>


<!-- CARGA DE DATOS NUEVO ALUMNO -->
				<div id='nuevoAlumno-page' class="mui-page">
					<div class="mui-page-header">
						<a class="mui-backarrow" href="#"></a>
						<div class='mui-page-title'>Carga de Datos - Nuevo Alumno</div>
						<a class="mui-headmenu" href="#"></a>
					</div>
					<div class="mui-page-body mui-scrollable" id="second-body">
						<div class="col-80" id="nuevoAlumnoID">
							<br>
							<input type="text" placeholder="Nombre" v-model="alumno.nombre"><br>
							<input type="text" placeholder="Apellido" v-model="alumno.apellido"><br>
							<input type="date" placeholder="Fecha de Nacimiento" v-model="alumno.fechaDeNac"><br>
							<input type="tel" placeholder="Nro. de Contacto" v-model="alumno.nroContacto"><br>
							<input type="email" placeholder="Email" v-model="alumno.email"><br><br>
							<button class="confirmar" @click="confirmarAlumno">Confirmar</button>
						</div>
					</div>
				</div>


<!-- CARGA DE DATOS PLAN NUEVO -->


				<div id='planNuevo-page' class="mui-page">
					<div class="mui-page-header">
						<a class="mui-backarrow" href="#"></a>
						<div class='mui-page-title'>Carga de Datos - Plan Nuevo</div>
						<a class="mui-headmenu" href="#"></a>
					</div>
					<div class="mui-page-body mui-scrollable" id="second-body">
						<div id="planNuevo-app">
							<div class= "col-80">
								<br>
								<div>
									<label class="nombre_plan_label">Nombre del Plan: </label>
									<input v-model="nombrePlan" type="text" class="nombre_plan_input">
								</div>
							</div>
							<hr style="width:95%; height:3px; border-width:0; color:gray; background-color:gray">
							<br>
							<div class= "col-80">
								<span>
									<input type="text" class="filtro_dias" onkeyup="filtro('.filtro_dias', '.lista_dias')" placeholder="Buscar día">
								</span>
								<span>
									<button id="nuevoDia" class="agregar" v-on:click="agregarDia">＋</button>
									<button id="quitarDia" class="quitar" v-on:click="quitarDia">&minus;</button>
								</span>
							<hr style="width:95%; height:3px; border-width:0; color:gray; background-color:gray">
								<ul class="lista_dias">
									<li  v-for="dia in dias">
										<a v-on:click="diaNuevo" v-text="dia.nombre"></a>
									</li>
								</ul>
								<br>
								<button class="confirmar" @click="confirmarPlan">Confirmar</button>
							</div>
						</div>
					</div>
				</div>

				<!-- CARGA DE EJERCICIOS AL DIA -->
				<div id='diaNuevo-page' class="mui-page">
					<div class="mui-page-header">
						<a class="mui-backarrow" href="#"></a>
						<div class='mui-page-title'>Carga de Datos - Día Nuevo</div>
						<a class="mui-headmenu" href="#"></a>
					</div>
					<div class="mui-page-body" id="second-body" style="overflow:scroll">
						<div id="diaNuevo-app">
							<br>
							<div class= "col-80">
								<button id="nuevoEjercicio" class="agregarEjercicio" v-on:click="agregarEjercicio">Agregar Ejercicio</button>
							</div>
							<ul class="lista_ejercicios">
								<hr style="width:95%; height:3px; border-width:0; color:gray; background-color:gray">
								<li v-for="ejercicio in ejerciciosHtml" v-html="ejercicio"></li>
							</ul>
							<br>
							<button class="confirmar" @click="confirmarEjercicio">Confirmar</button>
						</div>
					</div>
				</div>

				<!-- CARGA DE DATOS PLAN ANTERIOR -->
				<!-- sesiones -->
				<div id='sesiones-page' class="mui-page">
					<div class="mui-page-header">
						<a class="mui-backarrow" href="#"></a>
						<div class='mui-page-title'>Carga de Datos, Plan Anterior</div>
						<a class="mui-headmenu" href="#"></a>
					</div>
					<div class="mui-page-body mui-scrollable" id="second-body">
						<div id="sesion-app">
							<p>Plan "Hipertrofia ENERO - ABRIL 2019"</p>
							<ui-button class="block col-80" @click="agregarSesion">Agregar SESIÓN</ui-button>
							<br><br>
							<ui-button class="sesion-boton col-80" @click='showPage' v-for="sesion in sesiones">
								{{sesion}}</ui-button>
						</div>
					</div>
				</div>
				<!-- sesiones -->
				<!-- dias -->
				<div id='dias-page' class="mui-page">
					<div class="mui-page-header">
						<a class="mui-backarrow" href="#"></a>
						<div class='mui-page-title'>Carga de Datos, Plan Anterior</div>
						<a class="mui-headmenu" href="#"></a>
					</div>
					<div class="mui-page-body mui-scrollable" id="second-body">
						<div id="dia-app">
							<p>Plan "Hipertrofia ENERO - ABRIL 2019"</p>
							<ui-button class="block col-80" @click="agregarDia">Agregar DIA</ui-button><br><br>
							<ui-button class="col-80" @click="openModal" v-for="dia in dias">{{dia}}</ui-button>
							<ui-modal style="size: large;" ref="modal" title="DIA TAL">
								<table>
									<tr>
										<th><br>peso muerto <br>
											ROM <br>
											tiempo
										</th>
										<th>
											<table>
												<tr>
													<th>fecha 1<br>
														<table>
															<tr>
																<th>series</th>
																<th>rep</th>
																<th>kg</th>
																<th>intensidad</th>
															</tr>
															<tr>
																<td>3</td>
																<td>8</td>
																<td>50</td>
																<td>8</td>
															</tr>
														</table>
													</th>
												</tr>

												<tr>
													<th>fecha 2<br>
														<table>
															<tr>
																<th>series</th>
																<th>rep</th>
																<th>kg</th>
																<th>intensidad</th>
															</tr>
															<tr>
																<td>3</td>
																<td>8</td>
																<td>50</td>
																<td>8</td>
															</tr>
														</table>
													</th>
												</tr>

												<tr>
													<th>fecha 3<br>
														<table>
															<tr>
																<th>series</th>
																<th>rep</th>
																<th>kg</th>
																<th>intensidad</th>
															</tr>
															<tr>
																<td>3</td>
																<td>8</td>
																<td>50</td>
																<td>8</td>
															</tr>
														</table>
													</th>
												</tr>
											</table>
										</th>
									</tr>
								</table>
							</ui-modal>
						</div>
					</div>
				</div>
				<!-- dias -->
				<!-- CARGA DE DATOS PLAN ANTERIOR -->
				<!-- Copy the code of "template-page" to add more pages -->
				<!-- Copie el código de template-plage para agregar más páginas -->

				<!-- Optional.Toolbar out of mui-viewport to be omnipresent. Remove if not needed. -->
				<!-- Opcional. Barra de herramientas fuera de mui-viewport para ser omnipresente. Elimínalo si no lo necesitas. -->
				<div class="mui-tabbar" id="footer">
					<ul class="mui-tabbar-list">
						<li class="mui-tabbar-button"><a href="#" id="tabbar-button1"></a></li>
						<li class="mui-tabbar-button"><a href="#" id="tabbar-button2"></a></li>
						<li class="mui-tabbar-button"><a href='#' id="tabbar-button3"></a></li>
					</ul>
				</div>
			</div>

			<!-- mui-screen level panel -->
			<!-- Panel a nivel de mui-screen -->
			<div id="menu-panel" class="mui-panel">
				<div class="mui-panel-header">
					<div class='mui-panel-title'>Menu</div>
				</div>
				<div class="mui-panel-body">
					<div>
						<ul id='menuoptions' class='mui-list'>
							<li><a id='option1' href="#">Go Home Page</a></li>
							<li><a id='option2' href="#">Go Page 2</a></li>
						</ul>
					</div>
				</div>
			</div>

		</div>


</body>

</html>

<!--PLAN NUEVO - CODIGO VIEJO-->
<!--
<div id='planNuevo-page' class="mui-page">
	<div class="mui-page-header">
		<a class="mui-backarrow" href="#"></a>
		<div class='mui-page-title'>Carga de Datos - Plan Nuevo</div>
		<a class="mui-headmenu" href="#"></a>
	</div>
	<div class="mui-page-body mui-scrollable" id="second-body">
		<div id="planNuevo-app">
			<br>
			<input type="text" placeholder="Nombre del Plan"><br>
			<select name="cantidad_de_dias" id="cant_dias">
				<option disabled value="">Seleccione cantidad de días</option>
				<option>1</option>
				<option>2</option>
				<option>3</option>
				<option>4</option>
				<option>5</option>
				<option>6</option>
				<option>7</option>
			</select><br>
			<ui-button @click='planNuevo_page_2'>SIGUIENTE</ui-button>
		</div>
	</div>
</div>
<div id='planNuevo-page-2' class="mui-page">
	<div class="mui-page-header">
		<a class="mui-backarrow" href="#"></a>
		<div class='mui-page-title'>Carga de Datos, Plan Nuevo</div>
		<a class="mui-headmenu" href="#"></a>
	</div>
	<div class="mui-page-body mui-scrollable" id="second-body">
		<div id="planNuevo-app-2">
			<ui-button @click='openModal'>Agregar Ejercicio</ui-button>

			<ui-modal style="size: large;" ref="modal" title="AGREGAR EJERCICIO">
				<select name="ejercicio" id="ejercicio">
					<option disabled value="">Seleccione ejercicio</option>
					<option value=""></option>
				</select>
			</ui-modal>
		</div>
	</div>
</div>

-->